drop table if exists Users;
drop table if exists UserList;
drop table if exists Photos;
drop table if exists UserSessions;
drop table if exists HowToPopularity;

CREATE TABLE UserSessions (
id int(11) NOT NULL auto_increment,
skey VARCHAR(32) NOT NULL,
session_start TIMESTAMP,
userid int(11) NOT NULL,
primary KEY (id)
);

CREATE TABLE HowToPopularity (
id int(11) NOT NULL auto_increment,
listitem int(11) NOT NULL,
primary KEY (id)
);

CREATE TABLE Users (
email VARCHAR(255) NOT NULL,
makerid int(11),
id int(11) NOT NULL auto_increment,
primary KEY (id)
);

CREATE TABLE UserList (
id int(11) NOT NULL auto_increment,
userid int(11) NOT NULL,
listid int(11) NOT NULL,
complete int(11),
primary KEY(id)
);

CREATE TABLE Photos (
id int(11) NOT NULL auto_increment,
userid int(11) NOT NULL,
filename varchar(255) NOT NULL,
url varchar(255),
listitem int(11) NOT NULL,
primary KEY (id)
);

drop table if exists List;
drop table if exists Makers;
drop table if exists Categories;

CREATE TABLE Makers (
id int(11) NOT NULL auto_increment,
name VARCHAR(255) NOT NULL,
uri VARCHAR(255),
primary KEY (id)
);

CREATE TABLE Categories (
id int(11) NOT NULL auto_increment,
title VARCHAR(255) NOT NULL,
makerid int(11) NOT NULL,
approved int(11),
primary KEY (id)
);

CREATE TABLE List (
id int(11) NOT NULL auto_increment,
makerid int(11) NOT NULL,
title VARCHAR(255) NOT NULL,
description TEXT,
uri VARCHAR(255),
approved int(11),
category int(11),
primary KEY (id)
);

alter table Users add unique (email);
alter table Makers add unique (name);
alter table Makers add unique (uri);
alter table List add unique (uri);

insert into Makers (name, uri) values ('Matt Lee Foundation', 'http://mattl.us');
insert into Makers (name, uri) values ('Elliot Harmon Poetry, Inc', 'http://elliot.biz');
insert into Makers (name, uri) values ('Alexandra Bain Trust', 'pulponline.com');
insert into Makers (name, uri) values ("Maciej and Dave's Awesome Show", 'tf.biz');
insert into Makers (name, uri) values ("The Pearson Legally Binding Clauses Company", 'gzm.net');


INSERT into Categories (approved, makerid, title) values (1, 1, "Christmas Stuff");
INSERT into Categories (approved, makerid, title) values (1, 2, "Chanukah Stuff");
INSERT into Categories (approved, makerid, title) values (1, 3, "Gifts");
INSERT into Categories (approved, makerid, title) values (1, 4, "Holiday Food");
INSERT into Categories (approved, makerid, title) values (1, 5, "Weather");

INSERT into List (makerid, title) values (1, "Turkey");
INSERT into List (makerid, title) values (1, "Potatoes");
INSERT into List (makerid, title) values (1, "Beer");
INSERT into List (makerid, title) values (1, "Wine");
INSERT into List (makerid, title) values (1, "Pizza");
INSERT into List (makerid, title) values (1, "Soda");
INSERT into List (makerid, title) values (1, "Pancakes");
INSERT into List (makerid, title) values (1, "Toast");
INSERT into List (makerid, title) values (1, "Cake");
INSERT into List (makerid, title) values (1, "Coffee");
INSERT into List (makerid, title) values (1, "Tea");
INSERT into List (makerid, title) values (1, "Chocolate");
INSERT into List (makerid, title) values (1, "Pasta");

INSERT into List (makerid, title) values (2, "Xmas tree");
INSERT into List (makerid, title) values (2, "Snowman");
INSERT into List (makerid, title) values (2, "Santa");
INSERT into List (makerid, title) values (2, "Robin");
INSERT into List (makerid, title) values (2, "Holly");
INSERT into List (makerid, title) values (2, "Christmas Pudding");
INSERT into List (makerid, title) values (2, "Xmas presents");
INSERT into List (makerid, title) values (2, "Frankenstein");

INSERT into List (makerid, title) values (3, "Menorah");
INSERT into List (makerid, title) values (3, "Dreidel");
INSERT into List (makerid, title) values (3, "Oatmeal");
INSERT into List (makerid, title) values (3, "Chocolates");
INSERT into List (makerid, title) values (3, "Wine");
INSERT into List (makerid, title) values (3, "Gifts");
INSERT into List (makerid, title) values (3, "Candles");

INSERT into List (makerid, title) values (4, "Alarm clock");
INSERT into List (makerid, title) values (4, "Video game");
INSERT into List (makerid, title) values (4, "eBook reader");
INSERT into List (makerid, title) values (4, "Watch");
INSERT into List (makerid, title) values (4, "Cellphone");
INSERT into List (makerid, title) values (4, "Chocolate");
INSERT into List (makerid, title) values (4, "Aftershave");
INSERT into List (makerid, title) values (4, "Perfume");
INSERT into List (makerid, title) values (4, "Popcorn");

INSERT into List (makerid, title) values (5, "Snow");
INSERT into List (makerid, title) values (5, "Sunshine");
INSERT into List (makerid, title) values (5, "Rain");
INSERT into List (makerid, title) values (5, "Lots of rain");
INSERT into List (makerid, title) values (5, "Really cold");
INSERT into List (makerid, title) values (5, "Snowing");
INSERT into List (makerid, title) values (5, "I am stuck in Boston please help");

UPDATE List SET approved = 1 where makerid = 1;

UPDATE List SET category = 1 where makerid = 1;
UPDATE List SET category = 2 where makerid = 2;
UPDATE List SET category = 3 where makerid = 3;
UPDATE List SET category = 4 where makerid = 4;
UPDATE List SET category = 5 where makerid = 5;
